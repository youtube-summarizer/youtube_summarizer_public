<app-navbar></app-navbar>

<div class="container" style="margin-top: 120px; margin-bottom: 120px">
  <div class="row">
    <div class="col-md-6">
      <div class="example-header">
        <mat-form-field>
          <input matInput (keyup)="filterData($event)" placeholder="Filter channels" />
        </mat-form-field>
      </div>

      <div class="example-container mat-elevation-z8">
        <mat-table [dataSource]="dataSource" matSort>
          <!-- ID Column -->
          <ng-container matColumnDef="channelId">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Channel Id </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{ row.channelId }} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="action">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Action </mat-header-cell>
            <mat-cell *matCellDef="let row">
              <td class="text-right">
                <button class="btn btn-danger" (click)="removeSubscription(row)">Delete Channel</button>
              </td>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns"> </mat-row>
        </mat-table>

        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
      </div>
    </div>
    <div class="col-md-6">
      <form (submit)="addNewSubscription()" class="add-channel-form">
        <div class="form-group">
          <label>Channel:</label>
          <input
            style="margin-bottom: 10px"
            class="form-control"
            type="text"
            [(ngModel)]="newSubscription.channelId"
            name="channelId"
            required
          />
        </div>
        <button style="width: 100%" class="btn btn-primary full-width" type="submit">Add Channel</button>
      </form>
    </div>
  </div>
</div>

<app-footer></app-footer>
